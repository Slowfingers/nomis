# –ß–µ–∫–ª–∏—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Nomis ‚úÖ

## –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (04.01.2026)

### ‚úÖ –ß—Ç–æ —É–∂–µ –∑–∞—â–∏—â–µ–Ω–æ:

1. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
   - ‚úÖ Google OAuth —á–µ—Ä–µ–∑ Firebase Auth
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ `request.auth.uid` –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç—É–ø–æ–º –∫ –¥–∞–Ω–Ω—ã–º
   - ‚úÖ –°–µ—Å—Å–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `browserLocalPersistence`

2. **–ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö**
   - ‚úÖ –î–∞–Ω–Ω—ã–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –ø–æ userId (`/users/{userId}`)
   - ‚úÖ –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
   - ‚úÖ API –∫–ª—é—á–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env.local`)
   - ‚úÖ `.env.local` –≤ `.gitignore` - –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ git
   - ‚úÖ –£–º–Ω–æ–µ —Å–ª–∏—è–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Ç–µ—Ä—é –∑–∞–¥–∞—á

3. **–ö–æ–¥**
   - ‚úÖ –ù–µ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Firestore SDK)
   - ‚úÖ –ù–µ—Ç XSS (React –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç)
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è userId –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ Firebase Console:

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Firestore Security Rules!**

–ë–µ–∑ –Ω–∏—Ö –ª—é–±–æ–π –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

üìã –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: `FIRESTORE_SECURITY_RULES.md`

### –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤–∏–ª:

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Firebase Console](https://console.firebase.google.com/)
2. Firestore Database ‚Üí Rules
3. –í—Å—Ç–∞–≤—å—Ç–µ:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
```

4. –ù–∞–∂–º–∏—Ç–µ **Publish**

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```bash
# –í Firebase Console ‚Üí Firestore ‚Üí Rules ‚Üí Simulator
# –¢–µ—Å—Ç: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ó–ê–ü–†–ï–©–ï–ù
Operation: get
Location: /users/any-user-id
Auth: Unauthenticated
Expected: DENY ‚úÖ
```

## –í—ã–≤–æ–¥

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ—á—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
- ‚úÖ Email —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ Firebase Auth (–∑–∞—â–∏—â–µ–Ω Google)
- ‚úÖ –í Firestore –ù–ï —Ö—Ä–∞–Ω—è—Ç—Å—è email'—ã
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- ‚ö†Ô∏è **–í–ê–ñ–ù–û:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Firestore Rules (—Å–º. –≤—ã—à–µ)

**–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∞–≤–∏–ª –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ.**

–ù–∏–∫—Ç–æ –Ω–µ —Å–º–æ–∂–µ—Ç:
- –ß–∏—Ç–∞—Ç—å —á—É–∂–∏–µ –∑–∞–¥–∞—á–∏
- –ò–∑–º–µ–Ω—è—Ç—å —á—É–∂–∏–µ –¥–∞–Ω–Ω—ã–µ
- –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ email –±–µ–∑ –≤–∑–ª–æ–º–∞ Google –∞–∫–∫–∞—É–Ω—Ç–∞

---

üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `FIRESTORE_SECURITY_RULES.md`
